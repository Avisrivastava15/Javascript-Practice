<html>
    <head>
        <title>bubble game</title>
        <link rel="icon" type="image/png" href="./images/favicon.png">
        <style>
            *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,body{
    width: 100%;
    height: 100%;
}


#main{
    width: 100%;
    height: 100%;
    background-color: rgb(190, 232, 190);
    display: flex;
    align-items: center;
    justify-content: center;
}

#panel{
    width: 90%;
    height: 90%;
    background-color: #fff;
    border-radius: 10px;
    overflow: hidden;
}
.elem{
    display: flex;
    align-items: center;
    gap: 20px;
}

#ptop{
    width: 100%;
    height: 100px;
    background-color: rgb(11, 94, 11);
    display: flex;
    color: #fff;
    padding: 0 30%;
    justify-content: space-between;
    align-items: center;
}

.box{
    color: rgb(18, 119, 57);
    padding: 10px 20px;
    background-color: #fff;
    border-radius: 5px;
    font-weight: 550;
    font-size: 25px;
}

#pbtm{
    width: 100%;
    height: calc(100% - 100px); 
    padding: 20px;  
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

.bubble{
    width: 60px;
    height: 60px;
    background-color: rgb(72,104,72);
    color: white;
    border-radius:50% ;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    font-weight: 700;
}

.bubble:hover{
    background-color: rgb(50, 75, 50);
    cursor: pointer;
}

#btn{
    height: 50px;
    width: 100px;
    padding: 20px;
    border-radius: 5px;
    position: absolute;
    color: rgb(18, 119, 57);
    right:15%;
    font-weight: 700;
    font-size: 20px;
    outline: none;
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
}


        </style>
    </head>
    <body>
        <div id="main">
            <div id="panel">
                  <div id="ptop">
                    <div class="elem">
                        <h2>Hit</h2>
                        <div id="hitval" class="box">
                            0
                        </div>
                    </div>
                    <div class="elem">
                        <h2>Timer</h2>
                        <div id="timerval" class="box">
                            60
                        </div>
                    </div>
                    <div class="elem">
                        <h2>Score</h2>
                        <div id="scoreval" class="box">
                            0
                        </div>
                    </div>
                    <button id="btn">START</button>
                  </div>
                  <div id="pbtm">
                    <!-- <div class="bubble">5</div> -->
                    <h3>Click "START" to begin the game!</h3>
                    <h4>Click on the bubble appearing in the "Hit" box</h4>
                  </div>
            </div>
        </div>
        <script>
            var timer = 60;
var score = 0;
var hitrn = 0;

function getNewHit(){
    hitrn=Math.floor(Math.random()*10);
    document.querySelector("#hitval").textContent=hitrn;
}

function makeBubble(){
    var clutter="";

    for (var i=1;i<=105;i++){
        var rn=Math.floor(Math.random()*10);
        clutter += `<div class="bubble">${rn}</div>`;
    }

    document.querySelector("#pbtm").innerHTML=clutter;
}

function runTimer(){
    var time=setInterval(function(){
        if (timer>0){
            timer--;
            document.querySelector("#timerval").textContent=timer;
            if (timer<=10) {
                document.querySelector("#timerval").style.color="red";
            }
        }
        else{
            clearInterval(time);
            document.querySelector("#pbtm").innerHTML=`<h1>GAME OVER!</h1><h1>SCORE: ${score}</h1>`;
            const button=document.querySelector("#btn");
            button.textContent = "START";
            button.style.color="rgb(18, 119, 57)";
            document.querySelector("#timerval").style.color="rgb(18, 119, 57)";
            timer=60;
            document.querySelector("#timerval").textContent=timer;
        }
    },1000);
}

function increaseScore(){
    score+=10;
    document.querySelector("#scoreval").textContent=score;
}

document.querySelector("#pbtm").addEventListener("click",function(dets){
    var clickednum = Number(dets.target.textContent);
    if (clickednum === hitrn){
        increaseScore();
        makeBubble();
        getNewHit();
    }

})


document.querySelector("#btn").addEventListener("click", function () {
    const button = document.querySelector("#btn");
    if (button.textContent === "START") {
        timer = 60; 
        score = 0; 
        document.querySelector("#scoreval").textContent = score;
        makeBubble();
        runTimer();
        getNewHit();
        button.textContent = "STOP";
        button.style.color="Red";
    } 
    else{
        button.textContent = "START";
        button.style.color="rgb(18, 119, 57)";
        timer = 0;
        document.querySelector("#timerval").textContent = timer;
    }
});

        </script>
    </body>
</html>